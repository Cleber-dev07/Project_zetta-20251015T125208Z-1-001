<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Zetta</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="inicio">
    <div class="header-conteudo">
        <div class="titulo-texto">
            <h1>
                <span class="primeira-letra">P</span>roject
            </h1>
            <h1 class="position">Zetta</h1>
        </div>
    </div>

    <div class="catalogo">
        <div class="item-catalogo">
            <span class="icone">üõ†Ô∏è</span> <span class="texto-icone">Utilit√°rio</span>
            
            <div class="menu-catalogo-dropdown">
                <a href="#">Preload</a>
                <a href="extensed1.html">Alphabetic App Grid</a>
                <a href="extensed5.html">Caffeine</a>
                <a href="#">Switcher</a>
                <a href="#">Tactile</a>
            </div>
        </div>
        
        <div class="item-catalogo">
            <span class="icone">üîß</span> <span class="texto-icone">Ferramentas</span>
            
            <div class="menu-catalogo-dropdown">
                <a href="#">Freon</a>
                <a href="extensed4.html">GSconnect</a>
            </div>
        </div>
        
        <div class="item-catalogo">
            <span class="icone">üñ•Ô∏è</span> <span class="texto-icone">Interface</span>
            
            <div class="menu-catalogo-dropdown">
                <a href="extensed2.html">Blur my Shell</a>
                <a href="extensed3.html">Dash to panel</a>
                <a href="#">Dash to dock</a>
                <a href="extensed6.html">User Themes</a>
                <a href="#">Arc menu</a>
            </div>
        </div>
    </div>
    <form action="/search" method="GET" class="barra-pesquisa">
        <input type="text" id="search-input" name="q" placeholder="Pesquisar no Project Zetta..." required>
        <button type="submit">üîç</button>
    </form>

</div>

<div class="conteudo-principal">
    
    <form id="downloadForm">
    <div class="container-colunas"> 
        <div class="secao-downloads">
        
        <div class="bloco-download">
            <input type="checkbox" id="versaoEstavel1" name="download_option" value="assets/stable-1.0.2.zip" class="checkbox-custom">
        <label for="versaoEstavel1" class="label-download">
            <h3>Alphabetical App Grid</h3>
            <p class="textowhite">Organiza os apps em ordem alfabetica</p>
        </label>
        <div class="botoes-acao">
            <a href="" class="link-download" download="">Download</a>
            <a href="extensed1.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        
        <div class="bloco-download">
            <input type="checkbox" id="versaoBeta1" name="download_option" value="assets/beta-1.1.0.zip" class="checkbox-custom">
        <label for="versaoBeta1" class="label-download">
            <h3>Blur my Shell</h3>
            <p class="textowhite">Aplica um efeito de desfoque em elementos da interface.</p>
        </label>
        <div class="botoes-acao">
            <a href="assets/beta-1.1.0.zip" class="link-download" download="Project-Zetta-Beta-1.1.0.zip">Download</a>
            <a href="extensed2.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        
        <div class="bloco-download">
            <input type="checkbox" id="versaoCLI1" name="download_option" value="assets/cli-latest.tar" class="checkbox-custom">
        <label for="versaoCLI1" class="label-download">
            <h3>Caffeine</h3>
            <p class="textowhite">N√£o pemite que o computador entre em modo de suspens√£o.</p>
        </label>
        <div class="botoes-acao">
            <a href="assets/cli-latest.tar" class="link-download" download="Project-Zetta-CLI.tar">Download</a>
            <a href="extensed5.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        
        </div>

        <div class="secao-downloads-direita">

        <div class="bloco-download">
            <input type="checkbox" id="versaoEstavel2" name="download_option" value="assets/stable-1.0.2.zip" class="checkbox-custom">
        <label for="versaoEstavel2" class="label-download">
            <h3>Dash to Panel</h3>
            <p class="textowhite">Tras a dash para baixo</p>
        </label>
        <div class="botoes-acao">
            <a href="assets/stable-1.0.2.zip" class="link-download" download="Project-Zetta-Estavel-1.0.2.zip">Download</a>
            <a href="extensed3.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        
        <div class="bloco-download">
            <input type="checkbox" id="versaoBeta2" name="download_option" value="assets/beta-1.1.0.zip" class="checkbox-custom">
        <label for="versaoBeta2" class="label-download">
            <h3>GSConnect</h3>
            <p class="textowhite">Permite a Sincroniza√ß√£o do computador com o smartphone.</p>
        </label>
        <div class="botoes-acao">
            <a href="assets/beta-1.1.0.zip" class="link-download" download="Project-Zetta-Beta-1.1.0.zip">Download</a>
            <a href="extensed4.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        
        <div class="bloco-download">
            <input type="checkbox" id="versaoCLI2" name="download_option" value="assets/cli-latest.tar" class="checkbox-custom">
        <label for="versaoCLI2" class="label-download">
            <h3>User Themes</h3>
            <p class="textowhite">Possibilita alterar o visual da interface.</p>
        </label>
        <div class="botoes-acao">
            <a href="assets/cli-latest.tar" class="link-download" download="Project-Zetta-CLI.tar">Download</a>
            <a href="extensed6.html" class="link-download link-detalhes">Ver Detalhes</a>
        </div>
        </div>
        </div>
    </div>
    </form>    <div class="botao-master-wrapper">
    <button id="masterDownloadBtn" class="link-download botao-master" type="button" disabled>
        Baixar Selecionados (0)
    </button>
<br>
<br>
        <a href="Historico.html" class="link-download botao-master">
            Pacotes Baixados
        </a>

    </div>
</div>
    
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('downloadForm');
        const checkboxes = form.querySelectorAll('input[name="download_option"]');
        const masterBtn = document.getElementById('masterDownloadBtn');

        function updateCount() {
            const selectedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            masterBtn.textContent = `Baixar Selecionados (${selectedCount})`;
            masterBtn.disabled = selectedCount === 0; 
        }

        masterBtn.addEventListener('click', () => {
            const selectedItems = [];
            const historicoLocal = JSON.parse(localStorage.getItem('zettaDownloadHistory')) || [];

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const fileUrl = checkbox.value;
                    const nomeVersao = checkbox.nextElementSibling.querySelector('h3').innerText;
                    
                    // Armazena as informa√ß√µes de cada arquivo selecionado
                    selectedItems.push({
                        titulo: nomeVersao,
                        url: fileUrl,
                        arquivo: fileUrl.split('/').pop()
                    });
                    
                    // Executa o download imediato
                    const a = document.createElement('a');
                    a.href = fileUrl;
                    a.download = fileUrl.split('/').pop(); 
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a); 
                }
            });

            if (selectedItems.length > 0) {
                // Cria um √öNICO registro para o grupo de downloads (o "Pacote")
                const novoPacote = {
                    id: Date.now(), // ID √∫nico baseado no tempo
                    data: new Date().toLocaleString('pt-BR'),
                    itens: selectedItems,
                    total: selectedItems.length
                };

                historicoLocal.unshift(novoPacote);
                localStorage.setItem('zettaDownloadHistory', JSON.stringify(historicoLocal));
                
                alert(`Iniciando o download de ${selectedItems.length} arquivos. O pacote foi salvo no hist√≥rico.`);
                checkboxes.forEach(cb => cb.checked = false);
                updateCount();
            }
        });

        checkboxes.forEach(cb => {
            cb.addEventListener('change', updateCount);
        });

        updateCount();
    });
</script>
<a href="cadastro.html">LOGIN</a>
</body>

</html>


